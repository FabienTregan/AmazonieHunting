<head>
    <meta name='viewport' content='width=device-width,user-scalable=no'>
    <meta charset="utf-8" />

    <script src="../lib/wideScreen.js"></script>
    <script src="../lib/popup.js"></script>

    <style>
        @import '../lib/popup.css';
        @import '../lib/wideScreen.css';
        @import '../lib/clickArea.css';

        @font-face {
            font-family: 'Source Sans';
            src: url('../font/SourceSansPro-Regular.otf') format('woff');
        }

        @font-face {
            font-family: 'Source Sans Black';
            src: url('../font/SourceSansPro-Black.otf') format('woff');
        }

        @font-face {
            font-family: 'Source Sans Italic';
            src: url('../font/SourceSansPro-It.otf') format('woff');
        }

        body {
            font-family: 'Source Sans';
            color: white;
        }

        .background {
            width: 100%;
            height: 100%;
        }

        .fiche {
            position: absolute;
        }

        .fiche>* {
            position: absolute;
            left: 8.5%;
            width: 83%;
        }

        .fiche .title {
            top: 5%;
        }

        #animalName {
            margin-right: 0.20em;
            font-size: 1.45em;
            font-family: 'Source Sans Black';
        }

        #animalLatinName {
            font-size: 0.63em;
            font-family: 'Source Sans Italic';
            color: #513D70;
        }

        #animalText p {
            margin-bottom: 0.5em;
            margin-top: 0px;
        }

        .fiche .photo {
            top: 15.2%;
        }

        .fiche .info {
            top: 63.0%;
            font-size: 0.59em;
            line-height: 1.5em;
        }

        .popups {
            font-size: 48px;
        }

        .animal {
            position: absolute;
            cursor: pointer;
            width: 12.50%;
            height: 20.37%;

            animation: 0.8s ease-in-out 0s infinite alternate swing;
        }

        #credits {
            display: none;
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            z-index: 1000;
        }

        #credits.shown {
            display: block;
        }

        #credits img {
            height: 100%;
            width: 100%;
        }

        @keyframes swing {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.02);
            }
        }
    </style>
</head>

<body oncontextmenu='event.preventDefault()'>

    <div id="main" class="wideScreen">
        <img class="background" src="index.jpg" />

        <div class="clickArea" style="left: 4.1%; top: 5.5%; width: 5.7%; height: 7.5%;" onclick="window.location.href='..'"></div>

        <img class="clickArea animal" src="..\carte\hocco.png" style="left: 11.4%; top: 35.1%;" onclick="show_sheet('hocco')">
        <img class="clickArea animal" src="..\carte\sapajou.png" style="left: 26.0%; top: 35.1%;" onclick="show_sheet('sapajou')">

        <img class="clickArea animal" src="..\carte\tapir.png" style="left: 18.7%; top: 59.2%;" onclick="show_sheet('tapir')">

        <img class="clickArea animal" src="..\carte\hocco_wet.png" style="left: 54.1%; top: 35.1%;" onclick="show_sheet('hocco_wet')">
        <img class="clickArea animal" src="..\carte\agouti.png" style="left: 68.7%; top: 35.1%;" onclick="show_sheet('agouti')">
        <img class="clickArea animal" src="..\carte\daguet.png" style="left: 83.3%; top: 35.1%;" onclick="show_sheet('daguet')">

        <img class="clickArea animal" src="..\carte\pecari.png" style="left: 61.4%; top: 59.1%;" onclick="show_sheet('pecari')">
        <img class="clickArea animal" src="..\carte\pacu.png" style="left: 76.0%; top: 59.1%;" onclick="show_sheet('pacu')">

        <div id="saison_seche" class="clickArea" style="left: 19%; top: 87%; width: 12%; height: 7.5%;" onclick="window.location.href='../carte?season=dry'"></div>
        <div id="saison_humide" class="clickArea" style="left: 69%; top: 87%; width: 12%; height: 7.5%;" onclick="window.location.href='../carte?season=wet'"></div>

        <div class="clickArea" style="left: 4%; bottom: 7%; width: 1.5%; height: 2.5%;" onclick="showCredits()"></div>
        <div id="credits">
            <img src="credits.png">
            <div class="clickArea" style="right: 9%; bottom: 13%; width: 7%; height: 7.5%;" onclick="hideCredits()"></div>
        </div>
    </div>

    <div id="popups" class="wideScreen displayed">
        <div class="popup fiche">
            <div class="title">
                <span id="animalName">Name</span><span id="animalLatinName">Latin Name</span>
            </div>
            <img id="animalPicture" class="photo" src="pecari.jpg">
            <div id="animalText" class="info">
                Text
            </div>
            <img src="close_button.png" class="clickArea" style="left: 91.67%; top: 94.44%; width: 16.8%;" onclick="popup_hide()">
        </div>
    </div>

    <script>

        animals = {
            template: {
                name: "Animal"
                , latinName: "Anima"
                , text: "<br>" +
                    "<br>" +
                    ""
                , picture: ".jpg"
            }
            , hocco: {
                name: "Hocco alector"
                , latinName: "Crax alector"
                , text: "<p>Il marche la tête haute, pattes jointes et la queue déployée en éventail. S’il est en danger, il peut voler par petits coups d’ailes jusqu’à la canopée.</p><p>C’est un grand mangeur de fruits (96% de son alimentation),<br>de graines, de plantules et de jeunes pousses. Il recherche sa nourriture aux pieds des arbres fruitiers gros producteurs, rendant sa rencontre prévisible.</p>"
                , picture: "hocco.jpg"
            }
            , hocco_wet: {
                name: "Hocco alector"
                , latinName: "Crax alector"
                , text: "<p>Il marche la tête haute, pattes jointes et la queue déployée en éventail. S’il est en danger, il peut voler par petits coups d’ailes jusqu’à la canopée.</p><p>C’est un grand mangeur de fruits (96% de son alimentation),<br>de graines, de plantules et de jeunes pousses. A la saison des pluies, c’est la période des amours et des couvaisons. L’hocco est particulièrement vulnérable.</p>"
                , picture: "hocco.jpg"
            }
            , pecari: {
                name: "Pécari à Collier"
                , latinName: "Tayassu tajacu"
                , text: "<p>Le pécari ressemble à un cochon avec un collier de poils blanc autour du cou.</p><p>Il est chassé toute l’année. C’est une espèce abondante mais difficilement prévisible de part ses nombreux déplacements.</p>"
                , picture: "pecari.jpg"
            }
            , tapir: {
                name: "Tapir du Brésil"
                , latinName: "Tapirus terrestris"
                , text: "<p>Il est le plus gros des mammifères d’Amérique du Sud.<p></p>Strictement herbivore, il se nourrit de plantules, de fruits et de graines. Avec ses déjections, il dissémine certaines graines jouant ainsi un rôle clé dans la régénération de la forêt.</p><p>La femelle a un petit tous les deux ans. Espèce vulnérable non commerciable.</p>"
                , picture: "tapir.jpg"
            }
            , agouti: {
                name: "Agouti"
                , latinName: "Dasyprocta leporina"
                , text: "<p>Ce rongeur est très présent en Guyane. Ses pattes postérieures robustes lui permettent de faire des bonds et d’être un excellent coureur.</p><p>Frugivore, il se nourrit de fruits et graines tombés au sol, qu’il transporte et enterre parfois, participant ainsi activement à la dissémination et à la germination de nombreuses espèces d’arbres.</p><p>La femelle donne naissance à 2 à 4 petits par an dès ses 6 mois.</p>"
                , picture: "agouti.jpg"
            }
            , daguet: {
                name: "Daguet Rouge"
                , latinName: "Mazama americana"
                , text: "<p>C’est un petit cervidé forestier à la robe brun rouge.<br>Seul le mâle porte des bois.</p><p>Actif de jour et de nuit, il se nourrit essentiellement de fruits tombés à terre, de fleurs et de champignons.</p><p>Le daguet rouge est une espèce protégée : il est chassable mais ne peut pas être commercialisé.</p>"
                , picture: "daguet.jpg"
            }
            , sapajou: {
                name: "Sapajou Fauve"
                , latinName: "Sapajus apella"
                , text: "<p>Actif de jour, son activité n’est pas exclusivement arboricole.<br>Il franchit d’assez longues distances au sol pour rejoindre un nouveau groupe d’arbres. Il peut aussi s’associer avec d’autres espèces de singe pour chercher sa nourriture.</p>" +
                    "<p>Cet animal vif et agile est capable de se servir de pierres pour ouvrir des noix à coque dure ou d’un bout de bois pour extirper un insecte d’un tronc.</p>"
                , picture: "sapajou.jpg"
            }
            , pacu: {
                name: "Pacu"
                , latinName: "Myleus pacu"
                , text: "<p>Ce poisson de rivière est un cousin herbivore du piranha.</p><p>Ses puissantes mâchoires et ses dents carrées lui permettent de broyer des graines de palmiers très dures. Il se nourrit également d’escargots d’eau douce, de larves diverses, d’insectes aquatiques, crustacés, gastéropodes et petits poissons.</p><p>Selon les saisons, le pacu est capturé à la ligne, chassé à l’épervier ou fléché.</p>"
                , picture: "pacu.jpg"
            }

        }

        function update_sheet_info(infoId, innerHTML) {
            document.getElementById(infoId).innerHTML = innerHTML
        }

        function update_sheet_picture(picture) {
            document.getElementById("animalPicture").setAttribute("src", picture)
        }

        function showCredits() {
            var credits = document.getElementById("credits")
            credits.classList.add("shown")
        }

        function hideCredits() {
            var credits = document.getElementById("credits")
            credits.classList.remove("shown")
        }

        function show_sheet(animalId) {
            console.log(animalId)
            var animal = animals[animalId]

            update_sheet_info("animalName", animal.name)
            update_sheet_info("animalLatinName", animal.latinName)
            update_sheet_info("animalText", animal.text)
            update_sheet_picture(animal.picture)

            popup_show()
        }

    </script>
</body>